{% extends "admin/base.html" %}

{% block title %}Order Details - Cellar Society{% endblock %}

{% block content %}
<div class="page-header">
    <h2>Order Details #{{ order.id }}</h2>
    <p>Complete order information and status</p>
</div>

<div style="display: grid; grid-template-columns: 1fr 1fr; gap: 24px;">
    <!-- Order Information -->
    <div class="card">
        <h3>Order Information</h3>
        <div style="margin-top: 20px;">
            <div style="margin-bottom: 16px;">
                <p style="color: var(--muted); font-size: 13px; margin-bottom: 4px;">Order ID</p>
                <p style="font-weight: 700; color: var(--primary); font-size: 1.3em;">#{{ order.id }}</p>
            </div>
            
            <div style="margin-bottom: 16px;">
                <p style="color: var(--muted); font-size: 13px; margin-bottom: 4px;">Order Status</p>
                {% if order.status == 'Pending' %}
                    <span class="badge warning" style="font-size: 16px; padding: 8px 16px;">‚è≥ Pending</span>
                {% elif order.status == 'Processing' %}
                    <span class="badge primary" style="font-size: 16px; padding: 8px 16px;">üîÑ Processing</span>
                {% elif order.status == 'Delivered' %}
                    <span class="badge success" style="font-size: 16px; padding: 8px 16px;">üöö Delivered</span>
                {% elif order.status == 'Received' %}
                    <span class="badge success" style="font-size: 16px; padding: 8px 16px;">‚úÖ Received</span>
                {% else %}
                    <span class="badge" style="font-size: 16px; padding: 8px 16px;">{{ order.status }}</span>
                {% endif %}
            </div>
            
            <div style="margin-bottom: 16px;">
                <p style="color: var(--muted); font-size: 13px; margin-bottom: 4px;">Order Date</p>
                <p style="font-weight: 600;">{{ order.order_date }}</p>
            </div>
            
            <div style="margin-bottom: 16px;">
                <p style="color: var(--muted); font-size: 13px; margin-bottom: 4px;">Quantity</p>
                <p style="font-weight: 600;">{{ order.quantity }} bottle(s)</p>
            </div>
            
            <div style="margin-bottom: 16px;">
                <p style="color: var(--muted); font-size: 13px; margin-bottom: 4px;">Total Price</p>
                <p style="font-weight: 700; color: var(--accent); font-size: 1.8em;">‚Ç±{{ "%.2f"|format(order.total_price) }}</p>
            </div>
        </div>
    </div>
    
    <!-- Customer Information -->
    <div class="card">
        <h3>Customer Information</h3>
        <div style="margin-top: 20px;">
            <div style="margin-bottom: 16px;">
                <p style="color: var(--muted); font-size: 13px; margin-bottom: 4px;">Customer Name</p>
                <p style="font-weight: 600; color: var(--primary);">{{ order.customer_name }}</p>
            </div>
            
            <div style="margin-bottom: 16px;">
                <p style="color: var(--muted); font-size: 13px; margin-bottom: 4px;">Email Address</p>
                <p style="font-weight: 600;">{{ order.customer_email }}</p>
            </div>
            
            <div style="margin-bottom: 16px;">
                <p style="color: var(--muted); font-size: 13px; margin-bottom: 4px;">Phone Number</p>
                <p style="font-weight: 600;">{{ order.customer_phone if order.customer_phone else 'Not provided' }}</p>
            </div>
            
            <div style="margin-bottom: 16px;">
                <p style="color: var(--muted); font-size: 13px; margin-bottom: 4px;">Shipping Address</p>
                <p style="font-weight: 600;">{{ order.customer_address if order.customer_address else 'Not provided' }}</p>
            </div>
            
            <a href="{{ url_for('customer_detail', customer_id=order.customer_id) }}" class="btn ghost" style="margin-top: 12px; width: 100%;">View Full Customer Profile</a>
        </div>
    </div>
</div>

<!-- Product Details -->
<div class="card">
    <h3>Product Details</h3>
    <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 20px; margin-top: 20px;">
        <div>
            <p style="color: var(--muted); font-size: 13px; margin-bottom: 4px;">Wine Name</p>
            <p style="font-weight: 600; color: var(--primary); font-size: 1.1em;">{{ order.product_name }}</p>
        </div>
        
        <div>
            <p style="color: var(--muted); font-size: 13px; margin-bottom: 4px;">Wine Type</p>
            <span class="badge primary" style="padding: 8px 14px;">{{ order.product_type }}</span>
        </div>
        
        <div>
            <p style="color: var(--muted); font-size: 13px; margin-bottom: 4px;">Region</p>
            <p style="font-weight: 600;">{{ order.product_region }}</p>
        </div>
        
        <div>
            <p style="color: var(--muted); font-size: 13px; margin-bottom: 4px;">Vintage</p>
            <p style="font-weight: 600;">{{ order.product_vintage }}</p>
        </div>
    </div>
</div>

<!-- Action Buttons -->
<div style="display: flex; gap: 12px;">
    <a href="{{ url_for('orders') }}" class="btn ghost">‚Üê Back to Orders</a>
    <a href="{{ url_for('products') }}" class="btn accent">View All Products</a>
</div>
{% endblock %}